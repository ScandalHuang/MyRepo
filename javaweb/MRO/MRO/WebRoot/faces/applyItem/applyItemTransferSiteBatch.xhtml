
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:i18n="http://innolux.com/i18n">
	<h:form id="ItemTransferHeaderBatchForm" prependId="false">
		<c:set var="form" value="#{ApplyItemTransferSiteBean.itemTransferSiteForm}"  />
		<font color="red">* 新增批次開立申請單功能，僅新增草稿，須申請人自行送審</font><br/>
		<p:dataTable var="batchList" id="batchList" value="#{form.batchList}"
			paginatorPosition="bottom" paginator="true" rows="10">
			<f:facet name="header">
				<p:commandButton value="批次開單" icon="ui-icon-circle-check"
					rendered="#{form.batchList.size()>0}"
					actionListener="#{ApplyItemTransferSiteBean.onBatchApply}" 
					update=":tabView"  />
			</f:facet>
			<p:column style="text-align:center;">
				<f:facet name="header">
					ITEMNUM	
				</f:facet>
				<h:outputText value="#{batchList['ITEMNUM']}" />
			</p:column>
			<p:column style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="location.site" />
				</f:facet>
				<h:outputText value="#{batchList['LOCATION_SITE']}" />
			</p:column>
			<p:column style="text-align:center;" >
				<f:facet name="header">
					ACTION(I: 區域啟用,S:區域凍結 -下拉清單)
				</f:facet>
				<h:outputText value="#{batchList['ACTION']}" />
			</p:column>
			<p:column style="text-align:center;">
				<f:facet name="header"> 
					LINE_REMARK	(說明)
				</f:facet>
				<h:outputText value="#{batchList['LINE_REMARK']}"  escape="false" />
			</p:column>
		</p:dataTable>
		<p:panelGrid columns="2">
			<p:panel header="Upload Data">
				<i18n:outputText value="upload.excel" />：
				<p:commandButton icon="ui-icon-disk"
					update=":fileUploadExcelForm"
					action="#{FileUploadExcelBean.excel(6,1)}"
					 
					oncomplete="PF('ExcelFileUploadDialog').show();">
					<f:setPropertyActionListener target="#{FileUploadExcelBean.object}"
						value="#{ApplyItemTransferSiteBean}" />
					<f:setPropertyActionListener
						target="#{FileUploadExcelBean.updateView}"
						value="tabView:ItemTransferHeaderBatchForm" />
				</p:commandButton>
			</p:panel>
			<p:panel>
				<f:facet name="header"><i18n:outputText value="example.download" /></f:facet>
				<a href="../../resources/example/itemTransferExample.xls">
					<p:graphicImage value="../../resources/images/excel.png" />
				</a>
			</p:panel>
		</p:panelGrid>
	</h:form>
</ui:composition>
