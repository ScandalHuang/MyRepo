
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:i18n="http://innolux.com/i18n"
	template="/faces/template/template.xhtml">
	<ui:define name="page-content">
		<h:form id="listAItemSimpleUploadForm" prependId="false">
			<center>
				<p:panelGrid>
					<f:facet name="header">
						<p:row>
							<p:column colspan="6">
								<i18n:outputText value="aitem.change.mgmt" />
							</p:column>
						</p:row>
					</f:facet>
					<p:row>
						<p:column>
							<i18n:outputText value="create.change.item.flag" />
						</p:column>
						<p:column>
							<i18n:outputText value="itemnum" />
						</p:column>
						<p:column>
							<i18n:outputText value="chaged_by" />
						</p:column>
						<p:column>
					MOQ、MPQ
					<i18n:outputText value="edit" />
						</p:column>
						<p:column>
					SPEC
					<i18n:outputText value="edit" />
						</p:column>
						<p:column></p:column>
					</p:row>
					<p:row>
						<p:column>
							<p:selectOneMenu
								value="#{ListAItemSimpleBean.aItemSimpleForm.applyNumFlag}"
								style="width:100px">
								<f:selectItem itemValue="" itemLabel="請選擇" />
								<f:selectItem itemValue="Y" itemLabel="Y" />
								<f:selectItem itemValue="N" itemLabel="N" />
							</p:selectOneMenu>
						</p:column>
						<p:column>
							<p:inputText
								value="#{ListAItemSimpleBean.aItemSimpleForm.oriitemnum}" />
						</p:column>
						<p:column>
							<p:inputText
								value="#{ListAItemSimpleBean.aItemSimpleForm.changeby}" />
						</p:column>
						<p:column>
							<p:selectOneMenu
								value="#{ListAItemSimpleBean.aItemSimpleForm.moqMpqFlag}"
								style="width:100px">
								<f:selectItem itemValue="" itemLabel="請選擇" />
								<f:selectItem itemValue="Y" itemLabel="Y" />
								<f:selectItem itemValue="N" itemLabel="N" />
							</p:selectOneMenu>
						</p:column>
						<p:column>
							<p:selectOneMenu
								value="#{ListAItemSimpleBean.aItemSimpleForm.assetattridFlag}"
								style="width:100px">
								<f:selectItem itemValue="" itemLabel="請選擇" />
								<f:selectItem itemValue="Y" itemLabel="Y" />
								<f:selectItem itemValue="N" itemLabel="N" />
							</p:selectOneMenu>
						</p:column>
						<p:column>
							<p:commandButton icon="ui-icon-search" value="Search"
								 
								actionListener="#{ListAItemSimpleBean.onSearch}"
								update="listAItemSimple" style="margin-top:5px" />
						</p:column>
					</p:row>
				</p:panelGrid>
			</center>
			<br />
			<p:dataTable var="listAItemSimple" paginatorPosition="bottom"
				id="listAItemSimple" paginator="true" rows="10"
				value="#{ListAItemSimpleBean.aItemSimpleForm.listAItemSimple}">
				<f:facet name="header" style="text-align:left;">  
		        	   搜索結果：  #{ListAItemSimpleBean.aItemSimpleForm.listAItemSimple.size()} 筆
		        	   <p:commandButton icon="ui-icon-plus" value="開立簡易異動申請單"
								 
								actionListener="#{ListAItemSimpleBean.onAItemChangeBySpec}"
								update="listAItemSimple" style="margin-top:5px"
								rendered="#{ListAItemSimpleBean.aItemSimpleForm.applyNumFlag=='N'}" />
		        </f:facet>
				<p:column sortBy="#{listAItemSimple.oriitemnum}" style="text-align:center">
					<f:facet name="header">ORIITEMNUM</f:facet>
					<h:outputText value="#{listAItemSimple.oriitemnum}" />
				</p:column >
				<p:column exportable="false" sortBy="#{listAItemSimple.applyNum}" 
				style="text-align:center">
					<f:facet name="header">APPLY_NUM</f:facet>
					<h:outputText value="#{listAItemSimple.applyNum}" />
				</p:column>
				<p:column exportable="false" style="text-align:center">
					<f:facet name="header">CREATE_DATE</f:facet>
					<h:outputText value="#{listAItemSimple.createDate}">
						<f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss" timeZone="GMT+8" />
					</h:outputText>
				</p:column>
				<p:column sortBy="#{listAItemSimple.changeby}" style="text-align:center">
					<f:facet name="header">CHANGEBY</f:facet>
					<h:outputText value="#{listAItemSimple.changeby}" />
				</p:column>
				<p:column sortBy="#{listAItemSimple.changeby}" style="text-align:center">
					<f:facet name="header">MOQ_MPQ_FLAG</f:facet>
					<h:outputText value="#{listAItemSimple.moqMpqFlag}" />
				</p:column>
				<p:column sortBy="#{listAItemSimple.assetattrid}" style="text-align:center">
					<f:facet name="header">ASSETATTRID</f:facet>
					<h:outputText value="#{listAItemSimple.assetattrid}" />
				</p:column>
				<p:column exportable="false" sortBy="#{listAItemSimple.uploadDate}"
				 style="text-align:center">
					<f:facet name="header">UPLOAD_DATE</f:facet>
					<h:outputText value="#{listAItemSimple.uploadDate}">
						<f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss" timeZone="GMT+8" />
					</h:outputText>
				</p:column>
			</p:dataTable>
			<p:panelGrid columns="2">
				<p:panel header="Export All Data">
					<h:commandLink>
						<p:graphicImage value="../../resources/images/excel.png" />
						<p:dataExporter type="xls" target="listAItemSimple"
							fileName="A_ITEM_SIMPLE" />
					</h:commandLink>
				</p:panel>
				<p:panel header="Upload Data">
					<i18n:outputText value="upload.excel" />：
					<p:commandButton icon="ui-icon-disk"
						update=":fileUploadExcelForm"
						action="#{FileUploadExcelBean.excel(3,1)}"
						oncomplete="PF('ExcelFileUploadDialog').show();">
						<f:setPropertyActionListener
							target="#{FileUploadExcelBean.object}"
							value="#{ListAItemSimpleBean}" />
						<f:setPropertyActionListener
							target="#{FileUploadExcelBean.updateView}"
							value="listAItemSimpleUploadForm" />
					</p:commandButton>
				</p:panel>
			</p:panelGrid>
		</h:form>
		<p:dialog id="ExcelFileUploadDialog" header="ExcelFileUpload"
			widgetVar="ExcelFileUploadDialog" modal="true" appendTo="@(body)"
			width="600">
			<ui:include src="../CommonView/fileUploadExcel.xhtml" />
		</p:dialog>
	</ui:define>
</ui:composition>
