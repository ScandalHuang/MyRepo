
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:i18n="http://innolux.com/i18n"
	template="/faces/template/template.xhtml">
	<ui:define name="page-content">

		<!-- Panel-TabView-Dynamic Content(Change Listener) -->
		<h:form id="form" prependId="false">

			<!-- <p:growl id="growl" showDetail="true" /> -->


			<p:tabView id="tabView" cache="true"
				activeIndex="#{ListItemBean.activeIndex}">


				<p:tab id="tab1" title="清單">


					<p:panel id="panelSearch" header="Search Items" toggleable="true"
						toggleSpeed="500" widgetVar="panelSearch">
						<div align="center">
							<p:panelGrid columns="6" style="word-break:break-all;">

								<i18n:outputText value="ItemCategory" />
								<i18n:outputText value="itemnum" />
								<i18n:outputText value="description" />
								<i18n:outputText value="catalog" />
								<i18n:outputText value="sub_catalog" />
								<i18n:outputText value="" />

								<p:selectOneMenu value="#{ListItemBean.selectItemCategory}"
									style="width:100px">
									<f:selectItems value="#{ListItemBean.itemForm.itemCategoryOption}" />
								</p:selectOneMenu>
								<p:inputText value="#{ListItemBean.itemnum}" />
								<p:inputText value="#{ListItemBean.description}" />
								<p:inputText value="#{ListItemBean.commoditygroup}" />
								<p:inputText value="#{ListItemBean.commodity}" />

								<p:commandButton value="Search"
									actionListener="#{ListItemBean.onSpecChangeSearch}" update="@form"
									style="margin-top:5px" 
									 />
							</p:panelGrid>
						</div>
					</p:panel>

					<p:dataTable var="listItemBeanItemVO"
						value="#{ListItemBean.listItemBeanItemVO}"
						rowKey="#{listItemBeanItemVO.itemid}" paginator="true" rows="10"
						selectionMode="single" id="listItemBeanItemVO">

						<p:ajax event="rowSelect" listener="#{ListItemBean.onIRRowSelect}"
							update="@form" 
							 />

						<p:column filterMatchMode="contains"
							sortBy="#{listItemBeanItemVO.itemnum}"
							filterBy="#{listItemBeanItemVO.itemnum}">
							<f:facet name="header">
								<i18n:outputText value="ir_itemnum" />
							</f:facet>
							<h:outputText value="#{listItemBeanItemVO.itemnum}" />

						</p:column>
						<p:column filterMatchMode="contains"
							sortBy="#{listItemBeanItemVO.lAlndomainDescription}"
							filterBy="#{listItemBeanItemVO.lAlndomainDescription}">
							<f:facet name="header">
								<i18n:outputText value="status" />

							</f:facet>
							<h:outputText value="#{listItemBeanItemVO.lAlndomainDescription}" />

						</p:column>
						<p:column filterMatchMode="contains"
							sortBy="#{listItemBeanItemVO.description}"
							filterBy="#{listItemBeanItemVO.description}">
							<f:facet name="header">
								<i18n:outputText value="description" />

							</f:facet>
							<h:outputText value="#{listItemBeanItemVO.description}" />

						</p:column>

						<p:column filterMatchMode="contains"
							sortBy="#{listItemBeanItemVO.commoditygroup}"
							filterBy="#{listItemBeanItemVO.commoditygroup}">
							<f:facet name="header">
								<i18n:outputText value="catalog" />

							</f:facet>
							<h:outputText value="#{listItemBeanItemVO.commoditygroup}" />

						</p:column>

						<p:column filterMatchMode="contains"
							sortBy="#{listItemBeanItemVO.commodity}"
							filterBy="#{listItemBeanItemVO.commodity}">

							<f:facet name="header">
								<i18n:outputText value="sub_catalog" />
							</f:facet>
							<h:outputText value="#{listItemBeanItemVO.commodity}" />

						</p:column>


						<!--  p:column filterMatchMode="contains"
							sortBy="#{listItemBeanItemVO.eaudittimestamp}"
							filterBy="#{listItemBeanItemVO.eaudittimestamp}" parser="date">
							<f:facet name="header">
								<i18n:outputText value="change_date" />

							</f:facet>
							<h:outputText value="#{listItemBeanItemVO.eaudittimestamp}">
								<f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss"
									timeZone="GMT+8" />
							</h:outputText>

						</p:column-->
					</p:dataTable>
				</p:tab>


				<p:tab id="tab3" title="料號明細">
					<h:panelGrid columns="4" cellpadding="4">
						<p:commandButton value="New" id="newIcon" update="@form"
							icon="ui-icon-plus" />
						<p:commandButton value="Save" id="saveIcon" update="@form"
							icon="ui-icon-disk" />
						<p:commandButton value="Clear" id="ClearIcon" update="@form"
							icon="ui-icon-arrowrefresh-1-w" />
						<p:commandButton value="Submit" id="SubmitIcon" update="@form"
							icon="ui-icon-circle-check" />
					</h:panelGrid>
					<p:separator />
					<p:panelGrid style="margin-top:20px;word-break:break-all;">
						<p:row>
							<p:column rowspan="2">
								<p:panelGrid id="display" columns="3" cellpadding="10" style="word-break:break-all;">
									<i18n:outputText var="i18n" value="itemnum">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText value="#{ListItemBean.listItemBeanItem.itemnum}"
										id="itemnum" />
									<h:outputText></h:outputText>

									<i18n:outputText var="i18n" value="description">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText
										value="#{ListItemBean.listItemBeanItem.description}"
										id="description" />
									<h:outputText></h:outputText>

									<i18n:outputText var="i18n" value="Category">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText
										value="#{ListItemBean.listItemBeanItem.mergeCommoditygroup}"
										id="mergeCommoditygroup" />
									<p:commandButton value="Search" icon="ui-icon-search" />

									<i18n:outputText var="i18n" value="catalog">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText
										value="#{ListItemBean.listItemBeanItem.commoditygroup} (#{ListItemBean.listItemBeanItem.commoditygroupDescription})"
										id="commoditygroup" />
									<h:outputText></h:outputText>

									<i18n:outputText var="i18n" value="sub_catalog">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText
										value="#{ListItemBean.listItemBeanItem.commodity}  (#{ListItemBean.listItemBeanItem.commodityDescription})"
										id="commodity" />
									<h:outputText></h:outputText>

									<i18n:outputText var="i18n" value="order_unit">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText
										value="#{ListItemBean.listItemBeanItem.orderunit}"
										id="orderunit" />
									<p:commandButton value="Search" icon="ui-icon-search" />

									<i18n:outputText var="i18n" value="class_structure_id">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText
										value="#{ListItemBean.listItemBeanItem.classstructureid}"
										id="classstructureid" />
									<h:outputText></h:outputText>


									<i18n:outputText var="i18n" value="item_type">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText value="#{ListItemBean.listItemBeanItem.itemtype}"
										id="itemtype" />
									<h:outputText></h:outputText>

									<i18n:outputText var="i18n" value="item_status">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText
										value="#{ListItemBean.listItemBeanItem.lAlndomainDescription}"
										id="lAlndomainDescription" />
									<h:outputText></h:outputText>

									<i18n:outputText var="i18n" value="chaged_by">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText
										value="#{ListItemBean.listItemBeanItem.displayName}"
										id="displayName" />
									<h:outputText></h:outputText>

									<i18n:outputText var="i18n" value="changed_date">
										<h:outputText value="#{i18n}" style="font-weight: bold;" /> :
							</i18n:outputText>
									<h:outputText
										value="#{ListItemBean.listItemBeanItem.eaudittimestamp}"
										id="eaudittimestamp">
										<f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss"
											timeZone="GMT+8" />
									</h:outputText>
									<h:outputText></h:outputText>
								</p:panelGrid>
							</p:column>
							<p:column>
								<p:commandButton value="FileLink" icon="ui-icon-extlink" />
								<p:dataTable var="attachmentList" paginator="true" rows="10"
									id="attachmentList">

									<f:facet name="header">
										<i18n:outputText var="i18n" value="attachmentList">
											<h:outputText value="#{i18n}" />
										</i18n:outputText>
									</f:facet>

									<p:column filterMatchMode="contains">
										<f:facet name="header">
											<i18n:outputText value="photo_id" />
										</f:facet>
										<h:outputText value="" />
									</p:column>
									<p:column filterMatchMode="contains">
										<f:facet name="header">
											<i18n:outputText value="description" />

										</f:facet>
										<h:outputText value="" />

									</p:column>
									<p:column>
										<p:commandButton value="Delete" icon="ui-icon-trash" />
									</p:column>

								</p:dataTable>
								
							</p:column>
						</p:row>
						<br></br>
						<p:separator/>
						<p:row>
							<p:column>
								<p:commandButton value="New" icon="ui-icon-plus" />
								<p:dataTable var="vendorList"
									value="#{ListItemBean.listItemBeanInvvendorVO}"
									paginator="true" rows="10" id="vendorList">

									<p:column filterMatchMode="contains"
										sortBy="#{vendorList.vendor}" filterBy="#{vendorList.vendor}">
										<f:facet name="header">
											<i18n:outputText value="basic.vendor.company" />
										</f:facet>
										<h:outputText value="#{vendorList.vendor}" />
									</p:column>
									<p:column>
										<p:commandButton value="Search" icon="ui-icon-search" />
									</p:column>

									<p:column filterMatchMode="contains"
										sortBy="#{vendorList.name}" filterBy="#{vendorList.name}">
										<f:facet name="header">
											<i18n:outputText value="basic.vendor.name" />

										</f:facet>
										<h:outputText value="#{vendorList.name}" />

									</p:column>

									<p:column filterMatchMode="contains"
										sortBy="#{vendorList.modelnum}"
										filterBy="#{vendorList.modelnum}">

										<f:facet name="header">
											<i18n:outputText value="modelnum" />
										</f:facet>
										<h:outputText value="#{vendorList.modelnum}" />

									</p:column>
									<p:column>
										<p:commandButton value="Delete" id="deleteIcon" update="@form"
											icon="ui-icon-trash" />
									</p:column>

								</p:dataTable>
							</p:column>
						</p:row>

					</p:panelGrid>

					<br></br>
					<p:separator id="separator" />

					<p:commandButton value="New" icon="ui-icon-plus" />
					<p:dataTable var="itemspec"
						value="#{ListItemBean.listItemBeanItemspecVO}" paginator="true"
						rows="10" id="itemspec">

						<f:facet name="header">
							<i18n:outputText var="i18n" value="itemspec">
								<h:outputText value="#{i18n}" />
							</i18n:outputText>
						</f:facet>


						<p:column filterMatchMode="contains"
							sortBy="#{itemspec.itemrequirevalue}"
							filterBy="#{itemspec.itemrequirevalue==0 ? 'Y':'N'}">
							<f:facet name="header">
								<i18n:outputText var="i18n" value="itemrequirevalue">
									<h:outputText value="#{i18n}" />
								</i18n:outputText>
							</f:facet>
							<h:outputText value="#{itemspec.itemrequirevalue==1 ? 'Y':'N'}" />
						</p:column>

						<p:column filterMatchMode="contains"
							sortBy="#{itemspec.assetattrid}"
							filterBy="#{itemspec.assetattrid}">
							<f:facet name="header">
								<i18n:outputText var="i18n" value="assetattrid">
									<h:outputText value="#{i18n}" />
								</i18n:outputText>
							</f:facet>
							<h:outputText value="#{itemspec.assetattrid}" />
						</p:column>
						<p:column>
							<p:commandButton value="Search" icon="ui-icon-search" />
						</p:column>

						<p:column filterMatchMode="contains"
							sortBy="#{itemspec.assetattributeDescription}"
							filterBy="#{itemspec.assetattributeDescription}">
							<f:facet name="header">
								<i18n:outputText var="i18n" value="description">
									<h:outputText value="#{i18n}" />
								</i18n:outputText>
							</f:facet>
							<h:outputText value="#{itemspec.assetattributeDescription}" />
						</p:column>
						<p:column filterMatchMode="contains"
							sortBy="#{itemspec.assetattributeDatatype2}"
							filterBy="#{itemspec.assetattributeDatatype2}">
							<f:facet name="header">
								<i18n:outputText var="i18n" value="datatype">
									<h:outputText value="#{i18n}" />
								</i18n:outputText>
							</f:facet>
							<h:outputText value="#{itemspec.assetattributeDatatype2}" />
						</p:column>
						<p:column filterMatchMode="contains" sortBy="#{itemspec.alnvalue}"
							filterBy="#{itemspec.alnvalue}">
							<f:facet name="header">
								<i18n:outputText var="i18n" value="alnvalue">
									<h:outputText value="#{i18n}" />
								</i18n:outputText>
							</f:facet>
							<h:outputText value="#{itemspec.alnvalue}" />
						</p:column>
						<p:column filterMatchMode="contains" sortBy="#{itemspec.numvalue}"
							filterBy="#{itemspec.numvalue}">
							<f:facet name="header">
								<i18n:outputText var="i18n" value="numvalue">
									<h:outputText value="#{i18n}" />
								</i18n:outputText>
							</f:facet>
							<h:outputText value="#{itemspec.numvalue}" />
						</p:column>
						<p:column filterMatchMode="contains"
							sortBy="#{itemspec.measureunitid}"
							filterBy="#{itemspec.measureunitid}">
							<f:facet name="header">
								<i18n:outputText var="i18n" value="measureunitid">
									<h:outputText value="#{i18n}" />
								</i18n:outputText>
							</f:facet>
							<h:outputText value="#{itemspec.measureunitid}" />
						</p:column>
						<p:column>
							<p:commandButton value="Delete" icon="ui-icon-trash" />
						</p:column>
					</p:dataTable>
				</p:tab>
			</p:tabView>
		</h:form>
		<!-- end of Panel-TabView-Dynamic Content(Change Listener) -->
	</ui:define>
</ui:composition>
