
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:i18n="http://innolux.com/i18n">
				<h:form id="listItemDisableForm" prependId="false">
					<center>
						<p:panelGrid id="disableItem" style="width:500px;word-break:break-all;">
							<f:facet name="header">
								<p:row>
									<p:column colspan="2">
										<i18n:outputText value="item.disable.mgmt" />
									</p:column>
								</p:row>
							</f:facet>
							<p:row>
								<p:column>
									<i18n:outputText value="itemnum" />：
					</p:column>
								<p:column>
									<p:inputText value="#{ListItemDisableBean.itemnum}" size="20" />
									<p:commandButton value="料號查詢" id="itemSearchCommand"
									actionListener="#{ListItemDisableBean.search}" 
									
									 
									update="listItemDisableLog listItemDisableItemHeader" />
									<p:defaultCommand target="itemSearchCommand" />
								</p:column>
							</p:row>
							<p:row>
								<p:column>
									<i18n:outputText value="command" />：
					</p:column>
								<p:column>
									<p:inputText value="#{ListItemDisableBean.remark}" size="30" maxlength="100" />
								</p:column>
							</p:row>
							<p:row>
								<p:column>
						ACTION: 
					</p:column>
								<p:column>
									<p:selectOneMenu value="#{ListItemDisableBean.disableFlag}"
										style="width:150px;text-align:left;">
										<f:selectItem itemValue="Y" itemLabel="失效" />
										<f:selectItem itemValue="" itemLabel="生效" />
									</p:selectOneMenu>
								</p:column>
							</p:row>
							<f:facet name="footer">
								<p:row>
									<p:column colspan="2" style="text-align: center">
										<p:commandButton value="Submit" 
											
											actionListener="#{ListItemDisableBean.update}"
											update="listItemDisableLog listItemDisableItemHeader"
											style="margin-top:5px" />
									</p:column>
								</p:row>
							</f:facet>
						</p:panelGrid>
					</center>
					<br />
<p:panelGrid style="width:100%;word-break:break-all;" id="listItemDisableItemHeader">
			<f:facet name="header">
				<p:row>
				<p:column >
					<i18n:outputText value="itemnum" />
				</p:column>
				<p:column>
					<i18n:outputText value="item.description" />
				</p:column>
				<p:column>
					Disable_Flag
				</p:column>
				<p:column>
					<i18n:outputText value="command" />
					</p:column>
				</p:row>
			</f:facet>
			
			<p:row>
				<p:column>#{ListItemDisableBean.item.itemnum}</p:column>
				<p:column>#{ListItemDisableBean.item.description}</p:column>
				<p:column>#{ListItemDisableBean.item.disableFlag}</p:column>
				<p:column>#{ListItemDisableBean.item.disableFlagRemark}</p:column>
			</p:row>
		</p:panelGrid>
					<br />
					<p:dataTable var="listItemDisableLog" paginatorPosition="bottom"
						id="listItemDisableLog" paginator="true" rows="10"
						value="#{ListItemDisableBean.listItemDisableLog}">
						<f:facet name="header" style="text-align:left;">  
				          Oracle<i18n:outputText value="item.disable.flag" />Log
				        </f:facet>
						<p:column style="text-align:center;">
							<f:facet name="header">
								<i18n:outputText value="itemnum" />
							</f:facet>
							<h:outputText value="#{listItemDisableLog.itemnum}" />
						</p:column>
						<p:column style="text-align:center;">
							<f:facet name="header">
								<i18n:outputText value="command" />
							</f:facet>
							<h:outputText value="#{listItemDisableLog.remark}" />
						</p:column>
						<p:column style="text-align:center;">
							<f:facet name="header">
								ACTION
							</f:facet>
							<h:outputText value="#{listItemDisableLog.disableFlag}" />
						</p:column>
						<p:column style="text-align:center;">
							<f:facet name="header">
								<i18n:outputText value="lastrequestedby2" />
							</f:facet>
							<h:outputText value="#{listItemDisableLog.createBy}" />
						</p:column>
						<p:column style="text-align:center;">
							<f:facet name="header">
								<i18n:outputText value="erp_pr_issuedate" />
							</f:facet>
							<h:outputText
									value="#{listItemDisableLog.createDate}">
									<f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss"
										timeZone="GMT+8" />
								</h:outputText>
						</p:column>
					</p:dataTable>
				</h:form>
</ui:composition>
