
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:i18n="http://innolux.com/i18n">
	<h:form id="changeInvbalancesForm" prependId="false">
		<p:dataTable var="invbalancesList" paginatorPosition="bottom"
			id="invbalancesList" paginator="true" rows="10"
						filterDelay="#{SystemConfigBean.filetDelay}"
			filteredValue="#{ChangeInvbalancesBean.changeInvbalancesForm.filtetInvbalancesList}"
			value="#{ChangeInvbalancesBean.changeInvbalancesForm.invbalancesList}">
			<f:facet name="header" style="text-align:left;">  
		      		     部門控管清單：  #{ChangeInvbalancesBean.changeInvbalancesForm.invbalancesList.size()} 筆
		       			 </f:facet>
			<p:column headerText="Change" style="width:80px;text-align:center;">
				<p:commandButton style="width:20px;height:20px;"
					oncomplete="PF('changeInvbalancesDialog').show()"
					update=":tabView:changeInvbalancesDialogForm:changeHeader"
					icon="ui-icon-pencil">
					<f:setPropertyActionListener
						target="#{ChangeInvbalancesBean.changeInvbalancesForm.selectInvbalances}"
						value="#{invbalancesList}" />
				</p:commandButton>
			</p:column>
			<p:column value="#{invbalancesList['ORGANIZATION_CODE']}"
				filterMatchMode="contains"
				filterBy="#{invbalancesList['ORGANIZATION_CODE']}"
				sortBy="#{invbalancesList['ORGANIZATION_CODE']}"
				style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="siteid" />
				</f:facet>
				<h:outputText value="#{invbalancesList['ORGANIZATION_CODE']}" />
			</p:column>
			<p:column value="#{invbalancesList['LOCATION']}"
				filterMatchMode="contains" filterBy="#{invbalancesList['LOCATION']}"
				sortBy="#{invbalancesList['LOCATION']}" style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="stockroom" />
				</f:facet>
				<h:outputText value="#{invbalancesList['LOCATION']}" />
			</p:column>
			<p:column value="#{invbalancesList['ITEMNUM']}"
				filterMatchMode="contains" filterBy="#{invbalancesList['ITEMNUM']}"
				sortBy="#{invbalancesList['ITEMNUM']}" style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="itemnum" />
				</f:facet>
				<h:outputText value="#{invbalancesList['ITEMNUM']}" />
			</p:column>
			<p:column value="#{invbalancesList['DEPTCODE']}"
				sortBy="#{invbalancesList['DEPTCODE']}" style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="binnum" />
				</f:facet>
				<h:outputText value="#{invbalancesList['DEPTCODE']}" />
			</p:column>
			<p:column value="#{invbalancesList['LASTREQUESTEDBY2']}"
				filterMatchMode="contains"
				filterBy="#{invbalancesList['LASTREQUESTEDBY2']}"
				sortBy="#{invbalancesList['LASTREQUESTEDBY2']}"
				style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="lastrequestby2" />
					<i18n:outputText value="menu.empNo" />
				</f:facet>
				<h:outputText value="#{invbalancesList['LASTREQUESTEDBY2']}" />
			</p:column>
			<p:column value="#{invbalancesList['NAME']}"
				filterMatchMode="contains" filterBy="#{invbalancesList['NAME']}"
				sortBy="#{invbalancesList['NAME']}" style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="displayname" />
				</f:facet>
				<h:outputText value="#{invbalancesList['NAME']}" />
			</p:column>
			<p:column value="#{invbalancesList['ORIAVGUSEQTY']}"
				sortBy="#{invbalancesList['ORIAVGUSEQTY']}"
				style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="oriavguseqty" />
				</f:facet>
				<h:outputText value="#{invbalancesList['ORIAVGUSEQTY']}" />
			</p:column>
			<p:column value="#{invbalancesList['SSTOCK']}"
				sortBy="#{invbalancesList['SSTOCK']}" style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="sstock" />
				</f:facet>
				<h:outputText value="#{invbalancesList['SSTOCK']}" />
			</p:column>
			<p:column value="#{invbalancesList['MINLEVEL']}"
				sortBy="#{invbalancesList['MINLEVEL']}" style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="minlevel" />
				</f:facet>
				<h:outputText value="#{invbalancesList['MINLEVEL']}" />
			</p:column>
			<p:column value="#{invbalancesList['DESCRIPTION']}"
				sortBy="#{invbalancesList['DESCRIPTION']}"
				style="text-align:center;">
				<f:facet name="header">
					<i18n:outputText value="item.description" />
				</f:facet>
				<h:outputText value="#{invbalancesList['DESCRIPTION']}" />
			</p:column>
		</p:dataTable>
	</h:form>
	<p:dialog id="changeInvbalancesDialog" width="400" height="200"
		header="異動控管人" widgetVar="changeInvbalancesDialog" modal="true"
		appendTo="@(body)">
		<h:form id="changeInvbalancesDialogForm" prependId="false">
			<p:panelGrid id="changeHeader" var="changeHeader" style="width:100%">
				<f:facet name="header">
					<p:row>
						<p:column colspan="2">
							<i18n:outputText value="itemnum" />：
					        #{ChangeInvbalancesBean.changeInvbalancesForm.selectInvbalances['ITEMNUM']}
					    </p:column>
					</p:row>
				</f:facet>
				<p:row>
					<p:column styleClass="ui-widget-header">
						<i18n:outputText value="lastrequestby2" />
						<i18n:outputText value="menu.empNo" />
					</p:column>
					<p:column>
			       	    #{ChangeInvbalancesBean.changeInvbalancesForm.selectInvbalances['LASTREQUESTEDBY2']}
			        </p:column>
				</p:row>
				<p:row>
					<p:column styleClass="ui-widget-header">
						<i18n:outputText value="lastrequestby2" />
					</p:column>
					<p:column>
			       	   #{ChangeInvbalancesBean.changeInvbalancesForm.selectInvbalances['NAME']}
			        </p:column>
				</p:row>
				<p:row>
					<p:column styleClass="ui-widget-header">
			       	    新<i18n:outputText value="lastrequestby2" />
					</p:column>
					<p:column>
						<p:inputText
							value="#{ChangeInvbalancesBean.changeInvbalancesForm.selectInvbalances['NEW_NAME']}"
							size="13" readonly="true" />
						<p:commandButton icon="ui-icon-search"
							oncomplete="PF('listEmployeeDialog').show();">
							<f:setPropertyActionListener target="#{ListEmployeeBean.object}"
								value="#{ChangeInvbalancesBean}" />
							<f:setPropertyActionListener
								target="#{ListEmployeeBean.updateView}"
								value="tabView:changeHeader" />
						</p:commandButton>
					</p:column>
				</p:row>
				<f:facet name="footer">
					<p:row>
						<p:column colspan="2" style="text-align: center">
							<p:commandButton 
							rendered="#{ChangeInvbalancesBean.changeInvbalancesForm.selectInvbalances['NEW_NAME']!=null}"
								oncomplete="PF('changeInvbalancesDialog').hide();" value="SAVE"
								 
								actionListener="#{ChangeInvbalancesBean.onUpdate}"
								icon="ui-icon-contact" title="OK" />
						</p:column>
					</p:row>
				</f:facet>
			</p:panelGrid>
		</h:form>
	</p:dialog>

</ui:composition>
