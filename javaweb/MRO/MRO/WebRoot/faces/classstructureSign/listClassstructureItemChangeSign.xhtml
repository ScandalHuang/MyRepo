
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:i18n="http://innolux.com/i18n">
		<h:form id="listClassstructureItemchangeSignForm" prependId="false">

			<i18n:outputText value="class_structure_id" />：
			<p:selectOneMenu
				value="#{ListClassstructureItemChangeSignBean.classstructureItemChangeSignForm.selectClassstructureid}"
				 filter="true" filterMatchMode="startsWith"
				style="width:150px;" height="150">
				<f:selectItem itemLabel="請選擇" itemValue="" />
				<f:selectItems
					value="#{ListClassstructureItemChangeSignBean.classstructureItemChangeSignForm.classstructureMap}" />
				<p:ajax update="listClassstructureItemchangeSign"
					listener="#{ListClassstructureItemChangeSignBean.changeSelect}"
					process="@form" 
					 />
			</p:selectOneMenu>
			&#160;&#160;&#160;&#160;&#160;&#160;&#160;
			PLANT_CODE：
			<p:selectOneMenu
				value="#{ListClassstructureItemChangeSignBean.classstructureItemChangeSignForm.selectOrganizationCode}"
				 filter="true" filterMatchMode="startsWith"
				style="width:150px;" height="150">
				<f:selectItem itemLabel="請選擇" itemValue="" />
				<f:selectItems
					value="#{ListClassstructureItemChangeSignBean.classstructureItemChangeSignForm.organizationCodeMap}" />
				<p:ajax update="listClassstructureItemchangeSign"
					listener="#{ListClassstructureItemChangeSignBean.changeSelect}"
					process="@form" 
					 />
			</p:selectOneMenu>
			<br />
			<br /><font color="red">*重複的類別與PLANT_CODE名稱會在上傳後自動覆蓋</font>

			<p:dataTable var="listClassstructureItemchangeSign"
				value="#{ListClassstructureItemChangeSignBean.classstructureItemChangeSignForm.listClassstructureItemchangeSign}"
				paginator="true" rows="10" id="listClassstructureItemchangeSign"
				rowKey="#{listClassstructureItemchangeSign.itemChangeSignId}"
				selection="#{ListClassstructureItemChangeSignBean.classstructureItemChangeSignForm.deleteClassstructureItemchangeSign}"
				paginatorPosition="bottom"  style="text-align:center">

				<f:facet name="header">
					<i18n:outputText value="Measureunit.list" />
					<p:commandButton value="刪除類別簽核" icon="ui-icon-trash"
						update="listClassstructureItemchangeSign"
						actionListener="#{ListClassstructureItemChangeSignBean.onDelete}" />
				</f:facet>
				<p:column selectionMode="multiple" exportable="false"
					style="text-align:center;width:20px" />
				<p:column>
					<f:facet name="header">
						CLASSSTRUCTUREID(類別)
					</f:facet>
					<h:outputText value="#{listClassstructureItemchangeSign.classstructureid}" />
				</p:column>
				<p:column>
					<f:facet name="header">
					PLANT_CODE
				</f:facet>
				<h:outputText value="#{listClassstructureItemchangeSign.plantCode}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						DISCIPLINARY_BOARD(紀委會簽核人員)
					</f:facet>
					<h:outputText value="#{listClassstructureItemchangeSign.disciplinaryBoard}" /> 
				</p:column>
				<p:column>
					<f:facet name="header">
						EHS_EMPNO(環安簽核人員)
					</f:facet>
					<h:outputText value="#{listClassstructureItemchangeSign.ehsEmpno}"/>
				</p:column>
				<p:column>
					<f:facet name="header">
						GP_EMPNO(GP簽核人員)
					</f:facet>
					<h:outputText value="#{listClassstructureItemchangeSign.gpEmpno}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						BONDED_EMPNO(保稅簽核人員)
					</f:facet>
					<h:outputText value="#{listClassstructureItemchangeSign.bondedEmpno}"/>
				</p:column>
				<p:column>
					<f:facet name="header">
						BUYER_EMPNO(採購簽核人員)
					</f:facet>
					<h:outputText value="#{listClassstructureItemchangeSign.buyerEmpno}" /> 
				</p:column>
				<p:column>
					<f:facet name="header">
						MC_EMPNO(物管簽核人員)
					</f:facet>
					<h:outputText value="#{listClassstructureItemchangeSign.mcEmpno}"/>
				</p:column>
				<p:column>
					<f:facet name="header">
						ITEM_GROUP_EMPNO(料號審核小組)
					</f:facet>
					<h:outputText value="#{listClassstructureItemchangeSign.itemGroupEmpno}"/>
				</p:column>
				<p:column>
					<f:facet name="header">
						FINAL_APPOVE_NOTIFY_EMPNO(通知人員)
					</f:facet>
					<h:outputText value="#{listClassstructureItemchangeSign.finalAppoveNotifyEmpno}"
						style="white-space:normal;" />
				</p:column>
			</p:dataTable>
			<p:panelGrid columns="2">
				<p:panel header="Export All Data">
					<h:commandLink>
						<p:graphicImage value="../../resources/images/excel.png" />
						<p:dataExporter type="xls" target="listClassstructureItemchangeSign"
							fileName="SIGN_LIST"  />
					</h:commandLink>
				</p:panel>
				<p:panel header="Upload Data">
					<i18n:outputText value="upload.excel" />：
					<p:commandButton icon="ui-icon-disk"
						update=":fileUploadExcelForm"
						action="#{FileUploadExcelBean.excel(3,1)}"
						oncomplete="PF('ExcelFileUploadDialog').show();" >
						<f:setPropertyActionListener target="#{FileUploadExcelBean.object}" 
								value="#{ListClassstructureItemChangeSignBean}" />
							<f:setPropertyActionListener target="#{FileUploadExcelBean.updateView}" 
								value="tabView:listClassstructureItemchangeSignForm" />
					</p:commandButton>
						</p:panel>
					</p:panelGrid>
		</h:form>
</ui:composition>
