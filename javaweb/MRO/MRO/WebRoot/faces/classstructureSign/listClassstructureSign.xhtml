
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:i18n="http://innolux.com/i18n">
	<h:form id="listClassstructureSignForm" prependId="false">

		<i18n:outputText value="class_structure_id" />：
			<p:selectOneMenu
			value="#{ListClassstructureSignBean.classstructureSignForm.selectClassstructureid}"
			filter="true" filterMatchMode="startsWith" style="width:150px;"
			height="150">
			<f:selectItem itemLabel="請選擇" itemValue="" />
			<f:selectItems
				value="#{ListClassstructureSignBean.classstructureSignForm.classstructureMap}" />
			<p:ajax update="listClassstructureSign"
				listener="#{ListClassstructureSignBean.changeSelect}"
				process="@form" 
				 />
		</p:selectOneMenu>
			&#160;&#160;&#160;&#160;&#160;&#160;&#160;
			PLANT_CODE：
			<p:selectOneMenu
			value="#{ListClassstructureSignBean.classstructureSignForm.selectOrganizationCode}"
			filter="true" filterMatchMode="startsWith" style="width:150px;"
			height="150">
			<f:selectItem itemLabel="請選擇" itemValue="" />
			<f:selectItems
				value="#{ListClassstructureSignBean.classstructureSignForm.organizationCodeMap}" />
			<p:ajax update="listClassstructureSign"
				listener="#{ListClassstructureSignBean.changeSelect}"
				process="@form" 
				 />
		</p:selectOneMenu>
		<br />
		<br /><font color="red">*重複的類別與PLANT_CODE名稱會在上傳後自動覆蓋</font>
		<p:dataTable var="listClassstructureSign"
			value="#{ListClassstructureSignBean.classstructureSignForm.listClassstructureSign}"
			paginator="true" rows="10" id="listClassstructureSign"
			rowKey="#{listClassstructureSign.classstructureSignId}"
			selection="#{ListClassstructureSignBean.classstructureSignForm.deleteClassstructureSign}"
			paginatorPosition="bottom" style="text-align:center">
			<f:facet name="header">
				<i18n:outputText value="Measureunit.list" />
				<p:commandButton value="刪除簽核人員清單" icon="ui-icon-trash"
					update="listClassstructureSign"
					actionListener="#{ListClassstructureSignBean.onDelete}" />
			</f:facet>
			<p:column selectionMode="multiple" exportable="false"
				style="text-align:center;width:20px" />
			<p:column>
				<f:facet name="header">
						CLASSSTRUCTUREID(類別)
					</f:facet>
				<h:outputText value="#{listClassstructureSign.classstructureid}" />
			</p:column>
			<p:column>
				<f:facet name="header">
					PLANT_CODE
				</f:facet>
				<h:outputText value="#{listClassstructureSign.plantCode}" />
			</p:column>
			<p:column>
				<f:facet name="header">
						PMREQ_MC_EMPNO(非控管簽核人員)
					</f:facet>
				<h:outputText value="#{listClassstructureSign.pmreqMcEmpno}"
					rendered="#{listClassstructureSign.pmreqMcEmpno!=null}" />
			</p:column>
			<p:column>
				<f:facet name="header">
						CONTROL_MC_EMPNO(控管簽核人員)
					</f:facet>
				<h:outputText value="#{listClassstructureSign.controlMcEmpno}"
					rendered="#{listClassstructureSign.controlMcEmpno!=null}" />
			</p:column>
		</p:dataTable>
		<p:panelGrid columns="2">
			<p:panel header="Export All Data">
				<h:commandLink>
					<p:graphicImage value="../../resources/images/excel.png" />
					<p:dataExporter type="xls" target="listClassstructureSign"
						fileName="SIGN_LIST" />
				</h:commandLink>
			</p:panel>
			<p:panel header="Upload Data">
				<i18n:outputText value="upload.excel" />：
					<p:commandButton icon="ui-icon-disk"
					update=":fileUploadExcelForm"
					action="#{FileUploadExcelBean.excel(3,1)}"
					 
					oncomplete="PF('ExcelFileUploadDialog').show();">
					<f:setPropertyActionListener target="#{FileUploadExcelBean.object}"
						value="#{ListClassstructureSignBean}" />
					<f:setPropertyActionListener
						target="#{FileUploadExcelBean.updateView}"
						value="tabView:listClassstructureSignForm" />
				</p:commandButton>
			</p:panel>
		</p:panelGrid>
	</h:form>

</ui:composition>
