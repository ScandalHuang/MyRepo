
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:i18n="http://innolux.com/i18n"
	template="/faces/template/template.xhtml">
	<ui:define name="page-content">
		<ui:include src="../CommonView/PersonDetail.xhtml" />
		<h:form id="form" prependId="false">

			<p:tabView id="tabView" cache="true">


				<p:tab id="tab1" title="員工清單">
					<h:panelGrid columns="1" cellpadding="10">
						<h:outputText value="說明: " />
						<h:outputText
							value="顯示/輸入查詢條件(AND):
									a. 工號  (free key-In/ 模糊收尋)
									b. 姓名  (free key-In/ 模糊收尋)
									c. 部門代碼  (free key-In/ 模糊收尋)
									d. 主管工號 (free key-In/ 模糊收尋)
									f. 主管姓名 (free key-In/ 模糊收尋)" />
						<h:outputText
							value="click Enter後，於[頁籤:員工清單] 輸出清單結果: 
									工號/ 姓名/ 部門代碼/ 主管工號/ 主管姓名" />
						<h:outputText
							value="點擊 單一項後，於[頁籤:員工明細] 輸出該筆員工資料: 
									工號/ 職稱/ 姓名/ 主管工號/ 主管姓名/ 代理人/ 狀態" />
					</h:panelGrid>

					<p:panel id="panelSearch" header="Search Employee"
						toggleable="true" toggleSpeed="500" widgetVar="panelSearch">
						<div align="center">
							<p:panelGrid columns="6">

								<i18n:outputText value="basic.emp.emp_no" />
								<i18n:outputText value="basic.emp.name" />
								<i18n:outputText value="basic.emp.dept_code" />
								<i18n:outputText value="basic.emp.supervisor_no" />
								<i18n:outputText value="basic.emp.supervisor_name" />
								<i18n:outputText value="" />

								<p:inputText value="#{ListEmpBean.empNo}" />
								<p:inputText value="#{ListEmpBean.empName}" />
								<p:inputText value="#{ListEmpBean.deptCode}" />
								<p:inputText value="#{ListEmpBean.supervisorNo}" />
								<p:inputText value="#{ListEmpBean.supervisorName}" />

								<p:commandButton value="Search"
									actionListener="#{ListEmpBean.onSearch}" update="@form"
									style="margin-top:5px" />
							</p:panelGrid>
						</div>
					</p:panel>

					<p:dataTable var="employeeList" value="#{ListEmpBean.employeeList}"
						rowKey="#{employeeList.personId}" paginator="true" rows="10"
						selectionMode="single" id="employeeList">

						<p:ajax event="rowSelect" listener="#{PersonDetailBean.onRowSelect}" />

						<p:column sortBy="#{employeeList.personId}">
							<f:facet name="header">
								<i18n:outputText value="basic.emp.emp_no" />
							</f:facet>
							<h:outputText value="#{employeeList.personId}" />

						</p:column>

						<p:column sortBy="#{employeeList.displayName}">
							<f:facet name="header">
								<i18n:outputText value="basic.emp.name" />

							</f:facet>
							<h:outputText value="#{employeeList.displayName}" />

						</p:column>

						<p:column sortBy="#{employeeList.deptCode}">
							<f:facet name="header">
								<i18n:outputText value="basic.emp.dept_code" />

							</f:facet>
							<h:outputText value="#{employeeList.deptCode}" />

						</p:column>

						<p:column sortBy="#{employeeList.supervisor}">

							<f:facet name="header">
								<i18n:outputText value="basic.emp.supervisor_no" />
							</f:facet>

							<h:outputText value="#{employeeList.supervisor}" />

						</p:column>

						<p:column sortBy="#{employeeList.supervisor}">
							<f:facet name="header">
								<i18n:outputText value="basic.emp.supervisor_name" />

							</f:facet>
							<h:outputText value="#{employeeList.supervisorName}" />

						</p:column>
					</p:dataTable>
				</p:tab>
			</p:tabView>
		</h:form>
	</ui:define>
</ui:composition>
