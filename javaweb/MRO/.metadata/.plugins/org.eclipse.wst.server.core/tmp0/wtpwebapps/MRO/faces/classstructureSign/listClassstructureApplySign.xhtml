<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	xmlns:i18n="http://innolux.com/i18n">
	<h:form id="listClassstructureApplySignForm" prependId="false">
		<br /><font color="red">*重複的類別名稱會在上傳後自動覆蓋</font>
		<p:dataTable var="listClassstructureApplySign"
			value="#{ListClassstructureApplySignBean.classstructureApplySignForm.listClassstructureApplySign}"
			filteredValue="#{ListClassstructureApplySignBean.classstructureApplySignForm.filterListClassstructureApplySign}"
			filterDelay="#{SystemConfigBean.filetDelay}"
			paginator="true" rows="10" id="listClassstructureApplySign"
			rowKey="#{listClassstructureApplySign.classstructureid}"
			selection="#{ListClassstructureApplySignBean.classstructureApplySignForm.deleteClassstructureApplySign}"
			paginatorPosition="bottom" style="text-align:center">
			<f:facet name="header">
				<i18n:outputText value="Classstructure.Apply.Sign" />
				<p:commandButton value="刪除簽核人員清單" icon="ui-icon-trash"
					rendered="#{ListClassstructureApplySignBean.classstructureApplySignForm.listClassstructureApplySign.size()>0}"
					oncomplete="PF('deleteClassstructureApplySignConfirmDialog').show();" />
			</f:facet>
			<p:column selectionMode="multiple" exportable="false"
				style="text-align:center;width:20px" />
			<p:column filterMatchMode="contains" filterBy="#{listClassstructureApplySign.classstructureid}">
				<f:facet name="header">
						CLASSSTRUCTUREID(類別)
				</f:facet>
				<h:outputText value="#{listClassstructureApplySign.classstructureid}" />
			</p:column>
			<p:column >
				<f:facet name="header">
						M_G_SIGNER(M.G總Owner審核 )
				</f:facet>
				<h:outputText value="#{listClassstructureApplySign.MGSigner}" />
			</p:column>
			<p:column exportable="false">
				<f:facet name="header">
					最後更新人
				</f:facet>
					<h:outputText value="#{listClassstructureApplySign.lastUpdateBy}" />
			</p:column>
			<p:column exportable="false">
				<f:facet name="header">
					<i18n:outputText value="create.date" />
				</f:facet>
				<h:outputText
					value="#{listClassstructureApplySign.lastUpdate}">
					<f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss" timeZone="GMT+8" />
				</h:outputText>
			</p:column>
		</p:dataTable>
		<p:panelGrid columns="2">
			<p:panel header="Export All Data">
				<h:commandLink>
					<p:graphicImage value="../../resources/images/excel.png" />
					<p:dataExporter type="xls" target="listClassstructureApplySign"
						fileName="APPLY_SIGN"  />
				</h:commandLink>
			</p:panel>
			<p:panel header="Upload Data">
				<i18n:outputText value="upload.excel" />：
					<p:commandButton icon="ui-icon-disk"
					update=":fileUploadExcelForm"
					action="#{FileUploadExcelBean.excel(3,1)}"
					 
					oncomplete="PF('ExcelFileUploadDialog').show();">
					<f:setPropertyActionListener target="#{FileUploadExcelBean.object}"
						value="#{ListClassstructureApplySignBean}" />
					<f:setPropertyActionListener
						target="#{FileUploadExcelBean.updateView}"
						value="tabView:listClassstructureApplySignForm" />
				</p:commandButton>
			</p:panel>
		</p:panelGrid>
	</h:form>
	
		<p:confirmDialog id="deleteClassstructureApplySignConfirmDialog" message="確定刪除簽核人員清單?" width="300"
			header="確定刪除簽核人員清單?" widgetVar="deleteClassstructureApplySignConfirmDialog" appendTo="@(body)">
			<h:form id="deleteClassstructureApplySignConfirmDialogForm" prependId="false">
				<p:commandButton value="Yes Sure"
					oncomplete="PF('deleteClassstructureApplySignConfirmDialog').hide();"
					actionListener="#{ListClassstructureApplySignBean.onDelete}"
					 
					icon="ui-icon-circle-check" update=":tabView:listClassstructureApplySignForm" />
				<p:commandButton value="Not Yet"
					onclick="PF('deleteClassstructureApplySignConfirmDialog').hide();" type="button"
					icon="ui-icon-close" />
			</h:form>
		</p:confirmDialog>

</ui:composition>
