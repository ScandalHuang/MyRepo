
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:i18n="http://innolux.com/i18n"
	template="/faces/template/template.xhtml">
	<ui:define name="page-content">
		<p:tabView id="tabView" cache="true">
			<p:tab id="tab1">
				<f:facet name="title">
					<i18n:outputText value="location.mgmt" />
				</f:facet>
				<h:form id="listLocationMapForm" prependId="false">
					<p:dataTable var="listLocationMap" paginatorPosition="bottom"
						id="listLocationMap" paginator="true" rows="10" editable="true"
						value="#{ListLocationMgmtBean.listLocationMap}"
						filterDelay="#{SystemConfigBean.filetDelay}"
						filteredValue="#{ListLocationMgmtBean.filterListLocationMap}">

						<p:ajax event="rowEdit" listener="#{ListLocationMgmtBean.onEdit}"
							update="listLocationMap" />
						<f:facet name="header" style="text-align:left;">
							<p:commandButton value="Insert ORGANIZATION_CODE"
								oncomplete="PF('AddOrganizationCodeDialog').show();" />
						</f:facet>
						<p:column style="width:6%">
							<p:rowEditor />
						</p:column>

						<p:column style="text-align:center;" filterMatchMode="contains"
							sortBy="#{listLocationMap.organizationCode}"
							filterBy="#{listLocationMap.organizationCode}">
							<f:facet name="header">
								ORGANIZATION_CODE
							</f:facet>
							<h:outputText value="#{listLocationMap.organizationCode}" />
						</p:column>
						<p:column style="text-align:center;" 
							sortBy="#{listLocationMap.sapPsaDesc}">
							<f:facet name="header">
								SAP_PSA_DESC
							</f:facet>
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{listLocationMap.sapPsaDesc}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{listLocationMap.sapPsaDesc}" size="10" />
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column style="text-align:center;"
							sortBy="#{listLocationMap.locationId}">
							<f:facet name="header">
						LOCATION_ID
					</f:facet>
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{listLocationMap.locationId}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{listLocationMap.locationId}" size="5" />
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column style="text-align:center;"
							sortBy="#{listLocationMap.siteId}">
							<f:facet name="header">
						SITE_ID
					</f:facet>
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{listLocationMap.siteId}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{listLocationMap.siteId}" size="5" />
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column style="text-align:center;"
							sortBy="#{listLocationMap.org}">
							<f:facet name="header">
						ORG
					</f:facet>
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{listLocationMap.org}" />
								</f:facet>
								<f:facet name="input">
									<p:selectOneMenu value="#{listLocationMap.org}"
										style="width:80px;text-align:left;">
										<f:selectItem itemLabel="請選擇" itemValue="" />
										<f:selectItem itemLabel="INX" itemValue="INX" />
										<f:selectItem itemLabel="INXCHINA" itemValue="INXCHINA" />
									</p:selectOneMenu>
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column style="text-align:center;"
							sortBy="#{listLocationMap.currencycode}">
							<f:facet name="header">
						CURRENCYCODE
					</f:facet>
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{listLocationMap.currencycode}" />
								</f:facet>
								<f:facet name="input">
									<p:selectOneMenu value="#{listLocationMap.currencycode}"
										style="width:80px;text-align:left;">
										<f:selectItem itemLabel="請選擇" itemValue="" />
										<f:selectItem itemLabel="TWD" itemValue="TWD" />
										<f:selectItem itemLabel="RMB" itemValue="RMB" />
									</p:selectOneMenu>
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column style="text-align:center;"
							sortBy="#{listLocationMap.organizationName}">
							<f:facet name="header">
						ORGANIZATION_NAME
					</f:facet>
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{listLocationMap.organizationName}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{listLocationMap.organizationName}"
										size="30" />
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column style="text-align:center;" 
							sortBy="#{listLocationMap.nonvaluePlant}">
							<f:facet name="header">
								NONVALUE_PLANT
							</f:facet>
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{listLocationMap.nonvaluePlant}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{listLocationMap.nonvaluePlant}"  />
								</f:facet>
							</p:cellEditor>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:tab>
			<p:tab id="tab2">
				<f:facet name="title">
					<i18n:outputText value="edit.location.site.map" />
				</f:facet>
				<div align="center">
				<h:form id="listLocationSiteMapForm" prependId="false">
					<p:dataTable var="listLocationSiteMap" paginatorPosition="bottom" editable="true"
						id="listLocationSiteMap" paginator="true" rows="10" style="word-break:break-all;"
						value="#{ListLocationMgmtBean.listLocationSiteMap}">
						<p:ajax event="rowEdit" listener="#{ListLocationMgmtBean.updateLocationSiteMap}"
							update="listLocationSiteMap" />
						<p:column style="width:6%">
							<p:rowEditor />
						</p:column>
						<p:column style="text-align:center;">
							<f:facet name="header">LOCATION_SITE</f:facet>
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{listLocationSiteMap.locationSite}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{listLocationSiteMap.locationSite}"
										size="30" />
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column style="text-align:center;">
							<f:facet name="header">EP_MALL_COMPANY_ID</f:facet>
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{listLocationSiteMap.epMallCompanyId}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{listLocationSiteMap.epMallCompanyId}"
										size="30" />
								</f:facet>
							</p:cellEditor>
						</p:column>
					</p:dataTable>
				</h:form>
				</div>
			</p:tab>
		</p:tabView>

		<p:dialog id="AddOrganizationCodeDialog" header="AddOrganizationCode"
			widgetVar="AddOrganizationCodeDialog" modal="true"
			appendTo="@(body)" width="400">
			<h:form id="addOrganizationCode" prependId="false">
				<div align="center">
					<p:panelGrid style="margin-top:1px">
						<f:facet name="header">
							<p:row>
								<p:column>
									<h:outputText style="color:red;" value="＊" /> 
									ORGANIZATION_CODE
								</p:column>
								<p:column></p:column>
							</p:row>
						</f:facet>
						<p:row>
							<p:column>
								<p:inputText value="#{ListLocationMgmtBean.addOrganizationCode}" />
							</p:column>
							<p:column>
								<p:commandButton value="Insert"
									update=":tabView:listLocationMapForm :addOrganizationCode"
									icon="ui-icon-disk"
									actionListener="#{ListLocationMgmtBean.setOrganizationCode}"
									  />
							</p:column>
						</p:row>
					</p:panelGrid>
				</div>
			</h:form>
		</p:dialog>
	</ui:define>
</ui:composition>
